<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Directions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../main-menu/mainmenu.css">

  <style>
    .page{ margin-top: 90px; padding: 22px; text-align:center; }
    h1{ margin:0; font-size:22px; font-weight:800; }
    .map-wrap{
      margin:18px auto 0;
      max-width:1100px;
      border-radius:20px;
      overflow:hidden;
      background:#e6e6e6;
    }
    #mapFrame{ width:100%; height:520px; border:0; display:block; }
    .hint{ margin-top:10px; font-size:12px; color:#777; }
    .open-btn{
      display:inline-block;
      margin-top:10px;
      padding:10px 14px;
      border-radius:12px;
      background:#111;
      color:#fff;
      text-decoration:none;
      font-weight:700;
      font-size:13px;
    }
  </style>
</head>

<body>

<header>
  <div class="logo">
    <img src="../images/foodhub_logo.jpg" alt="Hawker Logo">
  </div>

  <nav>
    <ul>
      <li><a href="../main-menu/mainmenu.html">Home</a></li>
      <li><a href="../location/location.html" class="active">Locations</a></li>
      <li><a href="../order-history/order-history.html">Order History</a></li>
    </ul>
  </nav>

  <button class="lang">Us Eng</button>

  <div class="actions">
    <a href="../cart/cart.html" class="icon" aria-label="Cart">
      <img src="https://cdn-icons-png.flaticon.com/128/1170/1170678.png" alt="Cart">
    </a>

    <div class="icon" role="button" aria-label="Notifications" tabindex="0">
      <img src="https://cdn-icons-png.flaticon.com/128/3602/3602145.png" alt="Notifications">
    </div>

    <button class="logout" type="button">Logout</button>

    <div class="profile" role="button" aria-label="User profile" tabindex="0">
      <img src="https://cdn-icons-png.flaticon.com/128/848/848043.png" alt="User profile">
    </div>
  </div>
</header>

<main class="page">
  <h1 id="placeTitle">Directions</h1>

  <div class="map-wrap">
    <iframe id="mapFrame" loading="lazy" allowfullscreen></iframe>
  </div>

  <div class="hint">If your browser blocks the embedded map, use the button below to open Google Maps.</div>
  <a id="openMaps" class="open-btn" target="_blank" rel="noopener">Open in Google Maps</a>
</main>

<script>
  const params = new URLSearchParams(window.location.search);
  const place = params.get("place") || "Lau Pa Sat Singapore";

  document.getElementById("placeTitle").textContent = place;

  // ✅ EMBED URL (more reliable than /maps/dir inside iframe)
  // This shows a map centered on destination. (Directions inside iframe is often blocked without API key)
  document.getElementById("mapFrame").src =
    "https://www.google.com/maps?q=" + encodeURIComponent(place) + "&output=embed";

  // ✅ Button opens REAL directions from current location
  document.getElementById("openMaps").href =
    "https://www.google.com/maps/dir/?api=1&destination=" + encodeURIComponent(place);
</script>

</body>
</html>
